{% extends "admin_panel/base.html" %}
{% block title %}Task Reports{% endblock %}

{% block content %}
<style>
    .card {
        background: #ffffff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }

    h3 {
        margin-top: 0;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 10px;
        color: #0f172a;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 12px;
    }

    th, td {
        padding: 12px;
        border-bottom: 1px solid #e5e7eb;
        text-align: left;
        font-size: 14px;
    }

    th {
        background: #f1f5f9;
        color: #475569;
    }

    .status {
        font-weight: 600;
        font-size: 13px;
        padding: 4px 10px;
        border-radius: 12px;
    }

    .status.Completed {
        background: #dcfce7;
        color: #166534;
    }

    .btn {
        padding: 6px 10px;
        font-size: 12px;
        border-radius: 4px;
        text-decoration: none;
        background: #2563eb;
        color: #fff;
    }
</style>

<div class="card">
    <h3>Completed Task Reports</h3>

    <table>
        <tr>
            <th>Task</th>
            <th>User</th>
            <th>Worked Hours</th>
            <th>Report</th>
            <th>Status</th>
        </tr>

        {% for task in tasks %}
        <tr>
            <td>{{ task.title }}</td>
            <td>{{ task.assigned_to.username }}</td>
            <td>{{ task.worked_hours|default:"—" }}</td>
            <td>{{ task.completion_report|default:"—" }}</td>
            <td>
                <span class="status Completed">Completed</span>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5">No completed task reports found.</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}
